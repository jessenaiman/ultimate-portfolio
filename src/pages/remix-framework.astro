---
// src/pages/remix-framework.astro
// An honest demo of interactive Remix components in Astro.
import Layout from '../layouts/Layout.astro';
import Hero from '../components/ui/Hero.astro';
import { Code } from 'astro:components';
import { Content as RemixContent } from '../content/info/remix-framework.md';

// Import interactive React components (used by Remix integration)
import Chat from '../components/React/Chat.tsx';
import Machine from '../components/React/Machine.tsx';

// Import raw source code for display
import chatSource from '../components/React/Chat.tsx?raw';
import machineSource from '../components/React/Machine.tsx?raw';

---

<Layout title="Remix Framework Demo" description="An honest demonstration of interactive Remix (React) components running in an Astro project.">
  <Hero headline="Remix Framework Demo" subheading="Live, interactive Remix (React) components hydrated on the client." />

  <div class="container mx-auto px-4 py-16">
    <!-- Markdown Content Section -->
    <section class="prose max-w-none mb-16 bg-base-200/30 p-6 rounded-lg">
      <RemixContent />
    </section>

    <!-- Interactive Demos -->
    <div class="space-y-16">
      <!-- Chat Demo -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
        <!-- Live Demo -->
        <div class="card bg-base-200/60 shadow-xl h-full">
          <div class="card-body">
            <h3 class="card-title">Interactive Chat</h3>
            <p class="text-sm text-base-content/70">A chat interface demonstrating component state, props, and event handling.</p>
            <div class="min-h-[150px] flex items-center justify-center p-4 bg-base-100 rounded-lg mt-4">
              <Chat client:only='react' />
            </div>
          </div>
        </div>
        <!-- Source Code Collapse -->
        <div class="w-full">
            <div class="collapse collapse-arrow bg-base-200/60 shadow-xl">
                <input type="checkbox" /> 
                <div class="collapse-title text-xl font-medium">View Source Code</div>
                <div class="collapse-content">
                  <Code code={chatSource} lang="tsx" theme="github-dark" />
                </div>
            </div>
        </div>
      </div>

      <!-- Machine Demo -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
        <!-- Live Demo -->
        <div class="card bg-base-200/60 shadow-xl h-full">
          <div class="card-body">
            <h3 class="card-title">State Machine</h3>
            <p class="text-sm text-base-content/70">A component demonstrating a state machine implementation in React.</p>
            <div class="min-h-[150px] flex items-center justify-center p-4 bg-base-100 rounded-lg mt-4">
              <Machine client:only='react' />
            </div>
          </div>
        </div>
        <!-- Source Code Collapse -->
        <div class="w-full">
            <div class="collapse collapse-arrow bg-base-200/60 shadow-xl">
                <input type="checkbox" /> 
                <div class="collapse-title text-xl font-medium">View Source Code</div>
                <div class="collapse-content">
                  <Code code={machineSource} lang="tsx" theme="github-dark" />
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</Layout>
