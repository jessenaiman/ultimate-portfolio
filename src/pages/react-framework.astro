---
// src/pages/react-framework.astro
// An honest demo of interactive React components in Astro.
import Layout from '../layouts/Layout.astro';
import Hero from '../components/ui/Hero.astro';
import { Code } from 'astro:components';
import { Content as ReactContent } from '../content/info/react-framework.md';

// Import interactive React components
import ColorPickerHero from '../components/React/ColorPickerHero.tsx';
import Calculator from '../components/React/Calculator.tsx';

// Import raw source code for display in modals
import colorPickerSource from '../components/React/ColorPickerHero.tsx?raw';
import calculatorSource from '../components/React/Calculator.tsx?raw';

---

<Layout title="React Framework Demo" description="An honest demonstration of interactive React components running in an Astro project.">
  <Hero headline="React Framework Demo" subheading="Live, interactive React components hydrated on the client." />

  <div class="container mx-auto px-4 py-16">
    <!-- Markdown Content Section -->
    <section class="prose collapse collapse-arrow border border-base-300 max-w-none mb-16 bg-base-200/30 p-6 rounded-lg">
      <div class="collapse-title font-semibold text-xl">Learn more about React</div>
      <div class="collapse-content text-sm">
      <ReactContent />
      </div>
    </section>

    <!-- Interactive Demos -->
    <div class="space-y-16">
      <!-- Color Picker Hero Demo -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
        <!-- Live Demo -->
        <div class="card bg-base-200/60 shadow-xl h-full">
          <div class="card-body">
            <h3 class="card-title">Interactive Color Picker</h3>
            <p class="text-sm text-base-content/70">A simple, stateful color picker built with React and Framer Motion for animations.</p>
            <div class="min-h-[150px] flex items-center justify-center p-4 bg-base-100 rounded-lg mt-4">
              <ColorPickerHero client:only='react' />
            </div>
          </div>
        </div>
        <!-- Source Code Collapse -->
        <div class="w-full">
            <div class="collapse collapse-arrow bg-base-200/60 shadow-xl">
                <input type="checkbox" /> 
                <div class="collapse-title text-xl font-medium">View Source Code</div>
                <div class="collapse-content">
                  <Code code={colorPickerSource} lang="tsx" theme="github-dark" />
                </div>
            </div>
        </div>
      </div>

      <!-- Calculator Demo -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
        <!-- Live Demo -->
        <div class="card bg-base-200/60 shadow-xl h-full">
          <div class="card-body">
            <h3 class="card-title">Calculator App</h3>
            <p class="text-sm text-base-content/70">A functional calculator with state management for handling user input and calculations.</p>
            <div class="min-h-[150px] flex items-center justify-center p-4 bg-base-100 rounded-lg mt-4">
              <Calculator client:only='react' />
            </div>
          </div>
        </div>
        <!-- Source Code Collapse -->
        <div class="w-full">
            <div class="collapse collapse-arrow bg-base-200/60 shadow-xl">
                <input type="checkbox" /> 
                <div class="collapse-title text-xl font-medium">View Source Code</div>
                <div class="collapse-content">
                  <Code code={calculatorSource} lang="tsx" theme="github-dark" />
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</Layout>
