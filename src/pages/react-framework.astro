---
// src/pages/react-framework.astro
// An honest demo of interactive React components in Astro.
import Layout from '../layouts/Layout.astro';
import Hero from '../components/ui/Hero.astro';
import { Code } from 'astro:components';
import { Content as ReactContent } from '../content/info/react-framework.md';
import { Icon } from 'astro-icon/components';

// Import interactive React components
import ColorPickerHero from '../components/React/ColorPickerHero.tsx';
import Calculator from '../components/React/Calculator.tsx';

// Import raw source code for display in modals
import colorPickerSource from '../components/React/ColorPickerHero.tsx?raw';
import calculatorSource from '../components/React/Calculator.tsx?raw';

---

<Layout title="React Framework Demo" description="An honest demonstration of interactive React components running in an Astro project.">
  <Hero headline="React Framework Demo" subheading="Live, interactive React components hydrated on the client." />

  <div class="container mx-auto px-4 py-16">
    <!-- Markdown Content Section -->
    <section class="prose collapse collapse-arrow border border-base-300 max-w-none mb-16 bg-base-200/30 p-6 rounded-lg">
      <div class="collapse-title font-semibold text-xl">Learn more about React</div>
      <div class="collapse-content text-sm">
      <ReactContent />
      </div>
    </section>

    <!-- Interactive Demos -->
    <div class="space-y-12">

      <!-- Color Picker Hero Demo -->
      <label class="swap swap-flip w-full">
        <input type="checkbox" class="hidden" />
        
        <!-- Front Side: Live Demo -->
        <div class="swap-off w-full">
          <div class="card bg-base-200/60 shadow-xl">
            <div class="card-body">
              <div class="flex justify-between items-center">
                <h3 class="card-title"><Icon name="mdi:eyedropper-variant" class="w-6 h-6 mr-2 text-primary"/>Interactive Color Picker</h3>
                <div class="card-actions">
                  <div class="btn btn-sm">View Source <Icon name="mdi:code-braces" class="w-4 h-4 ml-1"/></div>
                </div>
              </div>
              <p class="text-sm text-base-content/70">A simple, stateful color picker built with React and Framer Motion for animations.</p>
              <div class="min-h-[150px] flex items-center justify-center p-4 bg-base-100 rounded-lg mt-4">
                <ColorPickerHero client:only='react' />
              </div>
            </div>
          </div>
        </div>

        <!-- Back Side: Source Code -->
        <div class="swap-on w-full">
          <div class="card bg-base-300 shadow-xl">
            <div class="card-body">
              <div class="flex justify-between items-center">
                <h3 class="card-title"><Icon name="mdi:code-braces" class="w-6 h-6 mr-2 text-primary"/>ColorPickerHero.tsx</h3>
                <div class="card-actions">
                  <div class="btn btn-sm">View Demo <Icon name="mdi:react" class="w-4 h-4 ml-1"/></div>
                </div>
              </div>
              <Code code={colorPickerSource} lang="tsx" theme="github-dark" />
            </div>
          </div>
        </div>
      </label>

      <!-- Calculator Demo -->
      <label class="swap swap-flip w-full">
        <input type="checkbox" class="hidden" />

        <!-- Front Side: Live Demo -->
        <div class="swap-off w-full">
          <div class="card bg-base-200/60 shadow-xl">
            <div class="card-body">
              <div class="flex justify-between items-center">
                <h3 class="card-title"><Icon name="mdi:calculator-variant" class="w-6 h-6 mr-2 text-accent"/>Calculator App</h3>
                <div class="card-actions">
                  <div class="btn btn-sm">View Source <Icon name="mdi:code-braces" class="w-4 h-4 ml-1"/></div>
                </div>
              </div>
              <p class="text-sm text-base-content/70">A functional calculator with state management for handling user input and calculations.</p>
              <div class="min-h-[150px] flex items-center justify-center p-4 bg-base-100 rounded-lg mt-4">
                <Calculator client:only='react' />
              </div>
            </div>
          </div>
        </div>

        <!-- Back Side: Source Code -->
        <div class="swap-on w-full">
          <div class="card bg-base-300 shadow-xl">
            <div class="card-body">
              <div class="flex justify-between items-center">
                <h3 class="card-title"><Icon name="mdi:code-braces" class="w-6 h-6 mr-2 text-accent"/>Calculator.tsx</h3>
                <div class="card-actions">
                  <div class="btn btn-sm">View Demo <Icon name="mdi:react" class="w-4 h-4 ml-1"/></div>
                </div>
              </div>
              <Code code={calculatorSource} lang="tsx" theme="github-dark" />
            </div>
          </div>
        </div>
      </label>

    </div>
  </div>
</Layout>
